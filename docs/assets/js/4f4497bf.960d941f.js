"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[242],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=l(n),h=o,k=u["".concat(c,".").concat(h)]||u[h]||d[h]||r;return n?a.createElement(k,i(i({ref:t},s),{},{components:n})):a.createElement(k,i({ref:t},s))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=h;var p={};for(var c in t)hasOwnProperty.call(t,c)&&(p[c]=t[c]);p.originalType=e,p[u]="string"==typeof e?e:o,i[1]=p;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1245:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>l});var a=n(7462),o=(n(7294),n(3905));const r={},i=void 0,p={unversionedId:"Events/Packets",id:"Events/Packets",title:"Packets",description:'Handling Packets with the "packet" event',source:"@site/docs/Events/Packets.md",sourceDirName:"Events",slug:"/Events/Packets",permalink:"/MooMoo.js/Events/Packets",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Debug",permalink:"/MooMoo.js/Events/Debug"},next:{title:"Autoheal",permalink:"/MooMoo.js/Examples/Autoheal"}},c={},l=[{value:"Handling Packets with the &quot;packet&quot; event",id:"handling-packets-with-the-packet-event",level:2},{value:"Working with packets in a better way",id:"working-with-packets-in-a-better-way",level:2}],s={toc:l};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"handling-packets-with-the-packet-event"},'Handling Packets with the "packet" event'),(0,o.kt)("p",null,'The "packet" event in MooMoo.js allows you to easily handle packets sent from the server. Every time the client receives a packet, this event is triggered and the packet\'s data is passed to the callback function as an object with two properties: ',(0,o.kt)("inlineCode",{parentName:"p"},"packet")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"data"),"."),(0,o.kt)("p",null,'To use the "packet" event, define a callback function and pass it to the ',(0,o.kt)("inlineCode",{parentName:"p"},"on")," method of the MooMoo object like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'MooMoo.on("packet", (obj) => {\n    let packet = obj.packet;\n    let data = obj.data;\n\n    // do something with the packet and data\n});\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"packet")," property contains the name of the packet, and the ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," property contains the data associated with the packet, which will be an array. If there is no data, the data property will be an empty array. You can then use this information to perform actions based on the packet and its data."),(0,o.kt)("h2",{id:"working-with-packets-in-a-better-way"},"Working with packets in a better way"),(0,o.kt)("p",null,"You can easily add a new event listener to ",(0,o.kt)("inlineCode",{parentName:"p"},"MooMoo")," with either the name of the packet function ",(0,o.kt)("strong",{parentName:"p"},"OR")," the packet name."),(0,o.kt)("p",null,"If you don't know the packet names, you can look into my MooMoo-in-depth documentation:"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/NuroC/moomoo-in-depth/tree/main/protocol/server"},"https://github.com/NuroC/moomoo-in-depth/tree/main/protocol/server")),(0,o.kt)("p",null,"For example, if you want to check for players joining the game, you can either use ",(0,o.kt)("inlineCode",{parentName:"p"},"addPlayer")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"2"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'\nMooMoo.on("addPlayer", (data) => {\n    // do something with the data\n});\n\nMooMoo.on("2", (data) => {\n    // do something with the data\n});\n\n')),(0,o.kt)("p",null,"This should work for every incoming packet that exists, if there's a packet that doesn't work, please open an issue on GitHub."),(0,o.kt)("p",null,"You can view an example script for a simple autoheal script here:"),(0,o.kt)("p",null,"[link-to-file]","("))}u.isMDXComponent=!0}}]);